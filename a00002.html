
<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>OpenGR: Compilation</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <img alt="OpenGR-logo" src="logo_dox.png"/>
                    <div id="projectbrief">A 3D Global Registration Library</div>
                    <!-- <a class="navbar-brand">OpenGR V1.1.3(5c6560e)</a> -->
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">User documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compilation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Super4PCS is now supported for Linux, MacOS and Windows platforms, with continuous testing. This file reviews the following aspects:</p><ul>
<li>how to compile and install the library, tests and applications: <a href="#library">here</a></li>
<li>how to use the library in your own software: <a href="#usage">here</a></li>
<li>a note about compilation mode and performances: <a href="#perfs">here</a></li>
</ul>
<p><b>Note:</b> Super4PCS relies heavily on CMake for its compilation and use (minimum version: v3.3).</p>
<h2><a class="anchor" id="library"></a> Compiling the library, application and tests</h2>
<p>For people in a hurry: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/STORM-IRIT/OpenGR.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir build</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd build</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=./install</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;make install</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;cd install/scripts/</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;./run-example.sh</div></div><!-- fragment --><h3>Dependencies</h3>
<p>Super4PCS takes care of its own dependencies, and downloads them when required. As a result, <b>you may need an internet connection for the first compilation</b>.</p>
<p>The libraries and the standalone application require:</p><ul>
<li><a href="http://eigen.tuxfamily.org/">Eigen</a>. The library is automagically downloaded and configured by the cmake process. If you need to force using Eigen from a specific path, call CMAKE with <code>-DEIGEN3_INCLUDE_DIR=/path/to/eigen</code>.</li>
</ul>
<p>IO and tests:</p><ul>
<li><a href="http://www.boost.org/doc/libs/1_57_0/libs/filesystem/doc/index.htm">Boost-filesystem</a>, used to read dataset folders. Requires Boost version: 1.57 or more.</li>
</ul>
<h3>CMake Options</h3>
<p>Our CMake scripts can be configured using the following options:</p><ul>
<li>Compilation rules<ul>
<li><code>OPTION (SUPER4PCS_COMPILE_TESTS "Enable testing" TRUE)</code></li>
<li><code>OPTION (SUPER4PCS_COMPILE_DEMOS "Compile demo applications (including the Super4PCS standalone)" TRUE)</code></li>
<li><code>OPTION (IO_USE_OPENCV "Use OpenCV for texture loading" TRUE)</code></li>
<li><code>OPTION (SUPER4PCS_USE_CHEALPIX "Use Chealpix for orientation filtering (deprecated)" FALSE)</code> We recommend to keep this option to <code>FALSE</code>.</li>
</ul>
</li>
<li>Advanced functionalities<ul>
<li><code>+OPTION (SUPER4PCS_USE_WEIGHTED_LCP "Use gaussian weights for point samples when computing LCP" FALSE)</code> Was implicitely set to <code>FALSE</code> in previous release.</li>
</ul>
</li>
<li>Extras<ul>
<li><code>OPTION (DL_DATASETS "Download demo datasets and associated run scripts" FALSE)</code></li>
</ul>
</li>
<li>Debug options<ul>
<li><code>OPTION (ENABLE_TIMING "Enable computation time recording" FALSE)</code></li>
</ul>
</li>
</ul>
<p>Options can be set by calling <code>cmake -DMY_OPTION=TRUE</code>, or by editing the file <a href="https://github.com/nmellado/Super4PCS/blob/master/CMakeLists.txt">CMakeList.txt</a> (not recommended).</p>
<h3>Compilation targets</h3>
<p>Our CMAKE scripts provide several targets:</p><ul>
<li><code>install</code>: build the libraries, the main application and install them to a dedicated folder alongside with demo scripts and assets. This is <b>recommended</b> target. The installation folder is by default: <code>ROOT_DIR/Super4PCS-${Super4PCS_VERSION_MAJOR}.${Super4PCS_VERSION_MINOR}</code>. It can be customized by calling cmake with <code>-DINSTALL_DIR=your_path</code>.</li>
<li><code>all</code>/<code>Super4PCS</code>: build the libraries and the main Super4PCS application,</li>
<li><code>buildtests</code>: compile tests. This target is generated only if <code>SUPER4PCS_BUILD_TEST</code> option is set to <code>TRUE</code>,</li>
<li><code>test</code>: run the tests locally</li>
<li><code>dl-datasets</code>: download the demo datasets.</li>
</ul>
<h3>Installed directories structure:</h3>
<p>After compilation and installation, you should obtain the following structure: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;installation-directory/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  - assets     -&gt; contains the demo hippo files, and the downloaded datasets if any</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  - bin        -&gt; contains the main Super4PCS application</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  - include    -&gt; header files of the Super4PCS library</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  - lib        -&gt; library binaries: super4pcs_algo and super4pcs_io, and chealpix if compiled</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  - lib/cmake  -&gt; cmake package files</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  - scripts    -&gt; demo scripts allowing to register the hippo meshes</div></div><!-- fragment --><hr/>
<h3>Linux and MacOS Builds</h3>
<p>Nothing specific here, just call: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd build</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake -DCMAKE_BUILD_TYPE=Release ..</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make install</div></div><!-- fragment --><hr/>
<h3>Windows Builds</h3>
<p>Super4PCS requires c++11 features and CMake support. We recommend to use Microsoft Visual Studio 2017 with <a href="https://blogs.msdn.microsoft.com/vcblog/2016/10/05/cmake-support-in-visual-studio/">CMake plugin</a>. CMake standalone is also supported (and used for Continuous Integration on AppVeyor).</p>
<p>By default, the project can be opened and compiled straight away with no parameter setting.</p>
<p>If you want to compile with OpenCV and/or Boost support, the dependency directories must be properly configured in Visual Studio. They can be set either when calling <a href="https://blogs.msdn.microsoft.com/vcblog/2016/10/05/cmake-support-in-visual-studio/#configure-cmake">CMake</a> or globally by configuring Visual Studio (see how-to <a href="https://social.msdn.microsoft.com/Forums/vstudio/en-US/a494abb8-3561-4ebe-9eb0-6f644a679862/visual-studio-2010-professional-how-to-add-include-directory-for-all-projects?forum=vcgeneral#7b5ab5f2-f793-4b0e-a18a-679948d12bdd">here</a>). </p><div class="image">
<img src="VStudio-globalFolders.jpg" alt="VStudio-globalFolders.jpg"/>
</div>
<hr/>
<h2><a class="anchor" id="usage"></a> Use Super4PCS library in your own application</h2>
<p><b>From release v.1.1.2</b>, Super4PCS provides a CMake package, generated during the installation process. To use it in your own application, add the following lines to your project file: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;project(Super4PCS-externalAppTest)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cmake_minimum_required(VERSION 3.3)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;set (CMAKE_CXX_STANDARD 11)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;find_package(Super4PCS REQUIRED)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;include_directories(${Super4PCS_INCLUDE_DIR})</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;link_directories(${Super4PCS_LIB_DIR})</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;add_executable(${PROJECT_NAME} main.cpp)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;target_link_libraries(${PROJECT_NAME} ${Super4PCS_LIBRARIES})</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;# we also need eigen</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;find_package( Eigen3 REQUIRED )</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;include_directories( ${EIGEN3_INCLUDE_DIR} )</div></div><!-- fragment --><p>In addition, CMake must be ran so that <code>CMAKE_PREFIX_PATH</code> contains <code>Super4PCS_install_dir/lib/cmake</code> when compiling <code>Super4PCS-externalAppTest</code>.</p>
<p>Super4PCS files will be located in the <code>super4pcs</code> folder. For instance, to use the Super4PCS algorithm: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{c++}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &lt;super4pcs/algorithms/super4pcs.h&gt;</div></div><!-- fragment --><p> This functionality is tested by our continuous integration system. Checkout the <a href="https://github.com/nmellado/Super4PCS/tree/master/tests/externalAppTest">externalAppTest</a> for a working example.</p>
<h2><a class="anchor" id="perfs"></a> Debug mode and performances</h2>
<p>Note that we heavily use template mechanisms that requires to enable inlining in order to be efficient. Compiling in Debug mode without inlining may result in longer running time than expected. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 23 2019 12:00:59 for OpenGR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
